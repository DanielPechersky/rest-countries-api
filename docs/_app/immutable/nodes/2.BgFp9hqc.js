import{g as x,c as J,s as N,h as $,I as z,e as K,r as ee,H as ae}from"../chunks/D0PQYbPh.js";import{a as A,t as D}from"../chunks/D-ub2qPg.js";import{av as re,g as te,ar as ne,h as ie,aq as Q,s as U,e as v,x as f,r as s,v as L,w as W,m as c,t as le,C as G,au as k,p as P}from"../chunks/BwJFPAb6.js";import{b as oe,p as I,a as H}from"../chunks/0aaMeHLv.js";import{l as X,s as Y}from"../chunks/Avfat07I.js";function ue(e,a,n=a){var i=re();X(e,"input",t=>{var r=t?e.defaultValue:e.value;if(r=R(e)?O(r):r,n(r),i&&r!==(r=a())){var l=e.selectionStart,o=e.selectionEnd;e.value=r??"",o!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(o,e.value.length))}}),(ie&&e.defaultValue!==e.value||te(a)==null&&e.value)&&n(R(e)?O(e.value):e.value),ne(()=>{var t=a();R(e)&&t===O(e.value)||e.type==="date"&&!t&&!e.value||t!==e.value&&(e.value=t??"")})}function R(e){var a=e.type;return a==="number"||a==="range"}function O(e){return e===""?null:+e}function Z(e,a,n){if(e.multiple)return se(e,a);for(var i of e.options){var t=q(i);if(oe(t,a)){i.selected=!0;return}}(!n||a!==void 0)&&(e.selectedIndex=-1)}function de(e,a){Q(()=>{var n=new MutationObserver(()=>{var i=e.__value;Z(e,i)});return n.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function ce(e,a,n=a){var i=!0;X(e,"change",t=>{var r=t?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(r),q);else{var o=e.querySelector(r)??e.querySelector("option:not([disabled])");l=o&&q(o)}n(l)}),Q(()=>{var t=a();if(Z(e,t,i),i&&t===void 0){var r=e.querySelector(":checked");r!==null&&(t=q(r),n(t))}e.__value=t,i=!1}),de(e)}function se(e,a){for(var n of e.options)n.selected=~a.indexOf(q(n))}function q(e){return"__value"in e?e.__value:e.value}const ve=async({fetch:e})=>{const a=[["Africa","Africa"],["America","Americas"],["Asia","Asia"],["Europe","Europe"],["Oceania","Oceania"]],n=await x(e);return{regions:a,countries:n}},Oe=Object.freeze(Object.defineProperty({__proto__:null,load:ve},Symbol.toStringTag,{value:"Module"}));var fe=D('<div class="aspect-[3/2] rounded-t-md overflow-clip"><img loading="lazy" class="object-cover object-center h-full w-full"></div>'),ge=D('<a class="theme-element max-w-md max-h-lg drop-shadow rounded-md"><!> <div class="m-6 mb-10"><h2 class="font-bold py-4"></h2> <dl class="factlist leading-6"><dt>Population</dt> <dd> </dd> <dt>Region</dt> <dd></dd> <dt>Capital</dt> <dd></dd></dl></div></a>');function he(e,a){U(a,!0);const n=S=>{var M=fe(),C=v(M);s(M),L(()=>{N(C,"src",y.svg),N(C,"alt",y.alt??`Flag of ${t}`)}),$(C),A(S,M)};let i=J(a.country.cca3),t=a.country.name.common,r=a.country.population,l=a.country.region,o=a.country.capital??"unknown",y=a.country.flags;var g=ge();N(g,"href",`#/country/${i}`);var h=v(g);n(h);var m=f(h,2),p=v(m);p.textContent=t;var u=f(p,2),d=f(v(u),2),_=v(d,!0);s(d);var b=f(d,4);b.textContent=l;var w=f(b,4);w.textContent=o,s(u),s(m),s(g),L(S=>Y(_,S),[()=>r.toLocaleString()]),A(e,g),W()}var F={},j={},V;function me(){return V||(V=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var a="fas",n="magnifying-glass",i=512,t=512,r=[128269,"search"],l="f002",o="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z";e.definition={prefix:a,iconName:n,icon:[i,t,r,l,o]},e.faMagnifyingGlass=e.definition,e.prefix=a,e.iconName=n,e.width=i,e.height=t,e.ligatures=r,e.unicode=l,e.svgPathData=o,e.aliases=r}(j)),j}var T;function _e(){return T||(T=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var a=me();e.definition={prefix:a.prefix,iconName:a.iconName,icon:[a.width,a.height,a.aliases,a.unicode,a.svgPathData]},e.faSearch=e.definition,e.prefix=a.prefix,e.iconName=a.iconName,e.width=a.width,e.height=a.height,e.ligatures=a.aliases,e.unicode=a.unicode,e.svgPathData=a.svgPathData,e.aliases=a.aliases}(F)),F}var ye=_e(),E={},B;function be(){return B||(B=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var a="fas",n="angle-down",i=448,t=512,r=[8964],l="f107",o="M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z";e.definition={prefix:a,iconName:n,icon:[i,t,r,l,o]},e.faAngleDown=e.definition,e.prefix=a,e.iconName=n,e.width=i,e.height=t,e.ligatures=r,e.unicode=l,e.svgPathData=o,e.aliases=r}(E)),E}var we=be(),pe=D("<option> </option>"),Se=D('<div class="flex flex-wrap gap-y-12 [&amp;>*]:h-16"><div class="relative theme-input"><!> <input type="search" placeholder="Search for a country..." class="w-[28rem] h-full theme-element placeholder-current pl-16 pr-2 shadow rounded placeholder:font-light placeholder:text-sm"></div> <div class="lg:mx-auto"></div> <div class="relative"><!> <select class="w-64 h-full pl-8 theme-element rounded shadow appearance-none"><option selected>Filter by Region</option><!></select></div></div>');function Ae(e,a){let n=I(a,"search",15),i=I(a,"filteredRegion",15);var t=Se(),r=v(t),l=v(r);z(l,{data:ye.faSearch,class:"absolute pointer-events-none my-auto top-0 bottom-0 left-8"});var o=f(l,2);ee(o),s(r);var y=f(r,4),g=v(y);z(g,{data:we.faAngleDown,class:"absolute pointer-events-none my-auto top-0 bottom-0 right-6"});var h=f(g,2),m=v(h);m.value=(m.__value=null)==null?"":null;var p=f(m);K(p,17,()=>a.regions,([u,d])=>d,(u,d)=>{let _=()=>c(d)[0],b=()=>c(d)[1];var w=pe(),S={},M=v(w,!0);s(w),L(()=>{S!==(S=b())&&(w.value=(w.__value=b())==null?"":b()),Y(M,_())}),A(u,w)}),s(h),s(y),s(t),ue(o,n),ce(h,i),A(e,t)}var De=D('<div class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-16 mt-8"></div>'),Me=D('<!> <main class="py-8 lg:py-16 h-full text-sm"><!> <!></main>',1);function Fe(e,a){U(a,!0);const n=u=>{var d=De();K(d,21,()=>c(o),_=>J(_.cca3),(_,b)=>{he(_,{get country(){return c(b)}})}),s(d),A(u,d)};let i=P(()=>a.data.regions),t=P(()=>a.data.countries),r=k(null),l=k(""),o=P(()=>{let u=c(t);return c(r)&&(u=u.filter(d=>d.region==c(r))),c(l)&&(u=u.filter(d=>d.name.common.toLowerCase().includes(c(l).toLowerCase()))),u.sort((d,_)=>_.population-d.population),u});var y=Me(),g=le(y);ae(g);var h=f(g,2),m=v(h);Ae(m,{get regions(){return c(i)},get search(){return c(l)},set search(u){G(l,H(u))},get filteredRegion(){return c(r)},set filteredRegion(u){G(r,H(u))}});var p=f(m,2);n(p),s(h),A(e,y),W()}export{Fe as component,Oe as universal};
